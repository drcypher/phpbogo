# Multi-call Test

This folder contains two simple files:
- `server.php` which accepts an array of delays (in seconds) and prints some text with these requested delays in between
- `client.php` which pre-defines a few delay arrays and performs a multi-call

In order for this to work you'll need to put these files somewhere under your /var/www folder and
possible alter the `$serverUrl` parameter in the `client.php` file.

Then you can call the client.php file. Below is the output I got. It pre-calculates how
much time it would take to execute these calls one after another and how much time it would
take if they really ran in parallel (which is the maximum of all executions given these calls
do not impose any serious load on the server to affect system performance).

If you look at the last line of the output, you'll see we do get 6 seconds instead of 36.

```
Prepared 8 calls with expected delay times:
 - Serial execution: 36 sec
 - Parallel execution: 6 sec

2013-06-07 16:19:14 - Server Call [51b1ddd2dc500], chunk 0: Will sleep for 1 seconds...
2013-06-07 16:19:15 - Server Call [51b1ddd2dc500], chunk 1: Will sleep for 2 seconds...
2013-06-07 16:19:17 - Server Call [51b1ddd2dc500] done

2013-06-07 16:19:14 - Server Call [51b1ddd2dc47f], chunk 0: Will sleep for 3 seconds...
2013-06-07 16:19:17 - Server Call [51b1ddd2dc47f], chunk 1: Will sleep for 1 seconds...
2013-06-07 16:19:18 - Server Call [51b1ddd2dc47f] done

2013-06-07 16:19:14 - Server Call [51b1ddd2dc79f], chunk 0: Will sleep for 2 seconds...
2013-06-07 16:19:16 - Server Call [51b1ddd2dc79f], chunk 1: Will sleep for 4 seconds...
2013-06-07 16:19:20 - Server Call [51b1ddd2dc79f] done

2013-06-07 16:19:14 - Server Call [51b1ddd2dc52c], chunk 0: Will sleep for 1 seconds...
2013-06-07 16:19:15 - Server Call [51b1ddd2dc52c], chunk 1: Will sleep for 1 seconds...
2013-06-07 16:19:16 - Server Call [51b1ddd2dc52c] done

2013-06-07 16:19:14 - Server Call [51b1ddd2dc5a3], chunk 0: Will sleep for 5 seconds...
2013-06-07 16:19:19 - Server Call [51b1ddd2dc5a3], chunk 1: Will sleep for 0 seconds...
2013-06-07 16:19:19 - Server Call [51b1ddd2dc5a3] done

2013-06-07 16:19:14 - Server Call [51b1ddd2dc5c7], chunk 0: Will sleep for 2 seconds...
2013-06-07 16:19:16 - Server Call [51b1ddd2dc5c7], chunk 1: Will sleep for 2 seconds...
2013-06-07 16:19:18 - Server Call [51b1ddd2dc5c7], chunk 2: Will sleep for 2 seconds...
2013-06-07 16:19:20 - Server Call [51b1ddd2dc5c7] done

2013-06-07 16:19:14 - Server Call [51b1ddd2dc5bd], chunk 0: Will sleep for 1 seconds...
2013-06-07 16:19:15 - Server Call [51b1ddd2dc5bd], chunk 1: Will sleep for 3 seconds...
2013-06-07 16:19:18 - Server Call [51b1ddd2dc5bd], chunk 2: Will sleep for 1 seconds...
2013-06-07 16:19:19 - Server Call [51b1ddd2dc5bd] done

2013-06-07 16:19:14 - Server Call [51b1ddd2dc63f], chunk 0: Will sleep for 1 seconds...
2013-06-07 16:19:15 - Server Call [51b1ddd2dc63f], chunk 1: Will sleep for 1 seconds...
2013-06-07 16:19:16 - Server Call [51b1ddd2dc63f], chunk 2: Will sleep for 1 seconds...
2013-06-07 16:19:17 - Server Call [51b1ddd2dc63f], chunk 3: Will sleep for 1 seconds...
2013-06-07 16:19:18 - Server Call [51b1ddd2dc63f], chunk 4: Will sleep for 1 seconds...
2013-06-07 16:19:19 - Server Call [51b1ddd2dc63f] done

All calls executed in 6.0119318962097 sec

```